{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { StatusBar } from 'expo-status-bar';\nimport { Appbar, BottomNavigation, Button, Text, TouchableRipple } from 'react-native-paper';\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { useContext, useEffect, useState } from 'react';\nimport { io } from 'socket.io-client';\nimport More from \"../views/More\";\nimport { AppContext, AppContextProvider } from \"../AppContext\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar socket = io(\"http://192.168.1.7:4000/\");\nfunction Home() {\n  var appContext = useContext(AppContext);\n  socket.on('connected-users', onUsersCountReceive);\n  var onUsersCountReceive = function onUsersCountReceive(newUsersCount) {\n    appContext.setUsersCount(newUsersCount);\n  };\n  return _jsxs(View, {\n    style: {\n      padding: 32,\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    },\n    children: [_jsx(Text, {\n      variant: \"displaySmall\",\n      children: \"Hello World\"\n    }), _jsxs(Text, {\n      style: {\n        textAlign: \"center\"\n      },\n      children: [\"You are \", _jsx(Text, {\n        style: {\n          fontWeight: \"bold\"\n        },\n        children: appContext.clientName\n      }), \". \", appContext.usersCount, \" users online.\"]\n    })]\n  });\n}\nexport default function App(props) {\n  var _useState = useState(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    index = _useState2[0],\n    setIndex = _useState2[1];\n  var _useState3 = useState([{\n      key: 'home',\n      title: 'Home',\n      focusedIcon: 'home',\n      unfocusedIcon: 'home-outline'\n    }, {\n      key: 'more',\n      title: 'Settings',\n      focusedIcon: 'cog',\n      unfocusedIcon: 'cog-outline'\n    }]),\n    _useState4 = _slicedToArray(_useState3, 1),\n    routes = _useState4[0];\n  var renderScene = BottomNavigation.SceneMap({\n    home: Home,\n    more: More\n  });\n  var appContext = useContext(AppContext);\n  var _useState5 = useState('ready'),\n    _useState6 = _slicedToArray(_useState5, 2),\n    loading = _useState6[0],\n    setLoading = _useState6[1];\n  useEffect(function () {\n    appContext.setSocket(socket);\n  });\n  var connectSocketIO = function connectSocketIO() {\n    setLoading('loading');\n    socket.on('connect', function () {\n      return setLoading('connected');\n    });\n    socket.emit('introduction', appContext.clientName);\n    socket.on('reconnect_failed', function () {\n      return setLoading('fail');\n    });\n    socket.on('disconnect', function () {\n      return setLoading('false');\n    });\n  };\n  if (loading == 'ready') connectSocketIO();\n  return _jsxs(AppContextProvider, {\n    children: [_jsx(SafeAreaView, {}), _jsxs(Appbar.Header, {\n      style: {\n        marginTop: StatusBar.currentHeight\n      },\n      dark: true,\n      children: [_jsx(Appbar.Action, {\n        icon: \"chess-queen\"\n      }), _jsx(Appbar.Content, {\n        title: \"Total Users: \" + appContext.usersCount\n      }), _jsx(Button, {\n        type: \"text\",\n        icon: {\n          connected: \"check\",\n          fail: \"warning\",\n          false: \"power-plug\"\n        }[loading],\n        loading: loading == 'loading',\n        disabled: ['loading', 'connected'].includes(loading),\n        onPress: function onPress() {\n          setLoading('ready');\n        },\n        children: {\n          fail: \"Failed to Connect. Tap to retry\",\n          false: \"Disconnected. Tap to connect\",\n          loading: \"Connecting...\",\n          connected: \"Connected!\"\n        }[loading]\n      }), _jsx(Appbar.Action, {\n        icon: \"brightness-6\",\n        onPress: props.changeTheme\n      })]\n    }), _jsx(BottomNavigation, {\n      navigationState: {\n        index: index,\n        routes: routes\n      },\n      onIndexChange: setIndex,\n      renderScene: renderScene\n    })]\n  });\n}","map":{"version":3,"names":["StatusBar","Appbar","BottomNavigation","Button","Text","TouchableRipple","useContext","useEffect","useState","io","More","AppContext","AppContextProvider","socket","Home","appContext","on","onUsersCountReceive","newUsersCount","setUsersCount","padding","display","justifyContent","alignItems","textAlign","fontWeight","clientName","usersCount","App","props","index","setIndex","key","title","focusedIcon","unfocusedIcon","routes","renderScene","SceneMap","home","more","loading","setLoading","setSocket","connectSocketIO","emit","marginTop","currentHeight","connected","fail","false","includes","changeTheme"],"sources":["/Volumes/DATA/_Data/Thomas Catt/GitHub/ChessMultiplayer/frontend/assets/views/App.js"],"sourcesContent":["import { StatusBar } from 'expo-status-bar';\nimport { Appbar, BottomNavigation, Button, Text, TouchableRipple } from 'react-native-paper';\nimport { SafeAreaView, ScrollView, StyleSheet, View } from 'react-native';\nimport { useContext, useEffect, useState } from 'react';\nimport { io } from 'socket.io-client';\nimport More from '../views/More'\n\nimport { AppContext, AppContextProvider } from '../AppContext'\n\nconst socket = io(\"http://192.168.1.7:4000/\")\n\n\nfunction Home() {\n\tconst appContext = useContext(AppContext)\n\tsocket.on('connected-users', onUsersCountReceive)\n\n\tconst onUsersCountReceive = (newUsersCount) => {\n\t\tappContext.setUsersCount(newUsersCount)\n\t}\n\n    return <View style={{padding: 32, display: \"flex\", justifyContent: \"center\", alignItems: \"center\"}}>\n        <Text variant='displaySmall'>Hello World</Text>\n        <Text style={{textAlign: \"center\"}}>You are <Text style={{fontWeight: \"bold\"}}>{appContext.clientName}</Text>. {appContext.usersCount} users online.</Text>\n    </View>\n}\n\nexport default function App(props) {\n\tconst [index, setIndex] = useState(0);\n\tconst [routes] = useState([\n\t  { key: 'home', title: 'Home', focusedIcon: 'home', unfocusedIcon: 'home-outline'},\n\t  { key: 'more', title: 'Settings', focusedIcon: 'cog', unfocusedIcon: 'cog-outline' },\n\t]);\n\n\tconst renderScene = BottomNavigation.SceneMap({\n\t\thome: Home,\n\t\tmore: More,\n\t})\n\n\n\tconst appContext = useContext(AppContext)\n\tconst [loading, setLoading] = useState('ready')\n\n\tuseEffect(() => {\n\t\tappContext.setSocket(socket)\n\t})\n\n    const connectSocketIO = () => {\n\t\t\n\t\tsetLoading('loading')\n        socket.on('connect', () => setLoading('connected'))\n\t\tsocket.emit('introduction', appContext.clientName)\n        socket.on('reconnect_failed', () => setLoading('fail'))\n\t\tsocket.on('disconnect', () => setLoading('false'))\n\n    }\n\n\tif (loading == 'ready') connectSocketIO()\n\n\treturn (\n\t\t\t<AppContextProvider>\n\t\t\t\t<SafeAreaView/>\n\t\t\t\t<Appbar.Header style={{marginTop: StatusBar.currentHeight}} dark={true}>\n\t\t\t\t\t<Appbar.Action icon=\"chess-queen\" />\n\t\t\t\t\t<Appbar.Content title={\"Total Users: \" + appContext.usersCount} />\n\t\t\t\t\t<Button type=\"text\" icon={{connected: \"check\", fail: \"warning\", false: \"power-plug\"}[loading]} loading={loading == 'loading'} disabled={['loading', 'connected'].includes(loading)} onPress={() => { setLoading('ready'); }}>\n\t\t\t\t\t\t{{fail: \"Failed to Connect. Tap to retry\", false: \"Disconnected. Tap to connect\", loading: \"Connecting...\", connected: \"Connected!\"}[loading]}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Appbar.Action icon=\"brightness-6\" onPress={props.changeTheme} />\n\t\t\t\t</Appbar.Header>\n\t\t\t\t<BottomNavigation\n\t\t\t\t\tnavigationState={{ index, routes }}\n\t\t\t\t\tonIndexChange={setIndex}\n\t\t\t\t\trenderScene={renderScene}\n\t\t\t\t/>\n\t\t\t</AppContextProvider>\n\t);\n}\n\n/*\nmodule.exports = function () {\n\treturn (\n\t\t<View style={styles.app}>\n\t\t\t<View style={styles.container}>\n\t\t\t\t<Text>Hello World!</Text>\n\t\t\t\t<Button text=\"Connect WS\" />\n\t\t\t</View>\n\t\t\t<StatusBar style=\"auto\" />\n\t\t</View>\n\t);\n}\n\nconst styles = StyleSheet.create({\n\tapp: {\n\t\tbackgroundColor: 'black',\n\t\tcolor: 'white',\n\t\tflex: 1,\n\t\talignItems: 'flex-start',\n\t\tjustifyContent: 'center',\n\t},\n});\n*/"],"mappings":"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"},"metadata":{},"sourceType":"module"}